var Notyf=function(){"use strict";var o,t,i=function(){return(i=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)},a=function(t){this.options=t};(t=o=o||{})[t.Add=0]="Add",t[t.Remove=1]="Remove";var r=(n.prototype.push=function(t){this.notifications.push(t),this.updateFn(t,o.Add,this.notifications)},n.prototype.splice=function(t,n){var e=this.notifications.splice(t,n)[0];this.updateFn(e,o.Remove,this.notifications)},n.prototype.indexOf=function(t){return this.notifications.indexOf(t)},n.prototype.onupdate=function(t){this.updateFn=t},n);function n(){this.notifications=[]}var s={types:[{type:"success",className:"notyf__toast--success",backgroundColor:"var(--success-bg)",color:"var(--success-color)"},{type:"error",className:"notyf__toast--error",backgroundColor:"var(--error-bg)",color:"var(--error-color)"},{type:"info",className:"notyf__toast--info",backgroundColor:"var(--info-bg)",color:"var(--info-color)"},{type:"warning",className:"notyf__toast--warning",backgroundColor:"var(--warning-bg)",color:"var(--warning-color)"}],duration:2e3,ripple:!0},c=(e.prototype.update=function(t,n){n===o.Add?this.addNotification(t):n===o.Remove&&this.removeNotification(t)},e.prototype.removeNotification=function(t){var n,e,o=this,i=this._popRenderedNotification(t);i&&((n=i.node).classList.add("notyf__toast--disappear"),n.addEventListener(this.animationEndEventName,e=function(t){t.target===n&&(n.removeEventListener(o.animationEndEventName,e),o.container.removeChild(n))}))},e.prototype.addNotification=function(t){var n=this._renderNotification(t);this.notifications.push({notification:t,node:n}),this._announce(t.options.message||"Notification")},e.prototype._renderNotification=function(t){var n,e=this._buildNotificationCard(t),o=t.options.className;return o&&(n=e.classList).add.apply(n,o.split(" ")),this.container.appendChild(e),e},e.prototype._popRenderedNotification=function(t){for(var n=-1,e=0;e<this.notifications.length&&n<0;e++)this.notifications[e].notification===t&&(n=e);if(-1!==n)return this.notifications.splice(n,1)[0]},e.prototype._buildNotificationCard=function(t){var n=t.options,e=n.icon,o=this._createHTLMElement({tagName:"div",className:"notyf__toast"}),i=this._createHTLMElement({tagName:"div",className:"notyf__ripple"}),a=this._createHTLMElement({tagName:"div",className:"notyf__wrapper"}),r=this._createHTLMElement({tagName:"div",className:"notyf__message"}),s=this._createHTLMElement({tagName:"header",className:"notyf__header"}),c=this._createHTLMElement({tagName:"div",className:"notyf__content"});console.log(n),r.innerHTML=n.message||"",n.header&&(s.innerHTML=n.header||"",c.appendChild(s)),c.append(r);var p=n.backgroundColor,d=n.color;if(e){var l=this._createHTLMElement({tagName:"smtt-icon",className:"notyf__icon"});l.setAttribute("icon",e),l.setAttribute("color","var(--"+n.type+"-icon-color)"),a.appendChild(l)}return a.appendChild(c),o.appendChild(a),p&&(n.ripple?(i.style.backgroundColor=p,o.appendChild(i)):o.style.backgroundColor=p),d&&(o.style.color=d),o},e.prototype._createHTLMElement=function(t){var n=t.tagName,e=t.className,o=t.text,i=document.createElement(n);return e&&(i.className=e),i.textContent=o||null,i},e.prototype._createA11yContainer=function(){var t=this._createHTLMElement({tagName:"div",className:"notyf-announcer"});t.setAttribute("aria-atomic","true"),t.setAttribute("aria-live","polite"),t.style.border="0",t.style.clip="rect(0 0 0 0)",t.style.height="1px",t.style.margin="-1px",t.style.overflow="hidden",t.style.padding="0",t.style.position="absolute",t.style.width="1px",t.style.outline="0",document.body.appendChild(t),this.a11yContainer=t},e.prototype._announce=function(t){var n=this;this.a11yContainer.textContent="",setTimeout(function(){n.a11yContainer.textContent=t},100)},e.prototype._getAnimationEndEventName=function(){var t,n=document.createElement("_fake"),e={MozTransition:"animationend",OTransition:"oAnimationEnd",WebkitTransition:"webkitAnimationEnd",transition:"animationend"};for(t in e)if(void 0!==n.style[t])return e[t];return"animationend"},e);function e(t){this.notifications=[];var n=document.createDocumentFragment(),e=this._createHTLMElement({tagName:"div",className:"notyf"});n.appendChild(e),t&&t.shadowRoot?t.shadowRoot.appendChild(n):document.body.appendChild(n),this.container=e,this.animationEndEventName=this._getAnimationEndEventName(),this._createA11yContainer()}function p(t){var e=this;this.notifications=new r;var n=this.registerTypes(t);this.options=i(i({},s),t),this.options.types=n,this.view=this.options.rootElement?new c(this.options.rootElement):new c,this.notifications.onupdate(function(t,n){e.view.update(t,n)})}return p.prototype.error=function(t){var n=this.normalizeOptions("error",t);this.open(n)},p.prototype.success=function(t){var n=this.normalizeOptions("success",t);this.open(n)},p.prototype.open=function(n){var t=this.options.types.find(function(t){return t.type===n.type})||{},e=i(i({},t),n);e.ripple=void 0===e.ripple?this.options.ripple:e.ripple;var o=new a(e);this._pushNotification(o)},p.prototype._pushNotification=function(n){var e=this;this.notifications.push(n);var t=n.options.duration||this.options.duration;setTimeout(function(){var t=e.notifications.indexOf(n);e.notifications.splice(t,1)},t)},p.prototype.normalizeOptions=function(t,n){var e={type:t};return"string"==typeof n?e.message=n:"object"==typeof n&&(e=i(i({},e),n)),e},p.prototype.registerTypes=function(t){var o=(t&&t.types||[]).slice();return s.types.map(function(n){var t=o.findIndex(function(t){return t.type===n.type}),e=-1!==t?o.splice(t,1)[0]:{};return i(i({},n),e)}).concat(o)},p}();
